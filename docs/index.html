<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="B·ªô s∆∞u t·∫≠p meme Vi·ªát Nam - T·ªïng h·ª£p c√°c meme h√¨nh ·∫£nh v√† video h√†i h∆∞·ªõc">
    <title>SegEyy Meme Collection</title>
    <link rel="stylesheet" href="index.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü§£</text></svg>">
</head>
<body>
    <header>
        <h1>SegEyy Meme Collection</h1>
        <div class="header-controls">
            <div class="search-container">
                <input type="text" id="search-input" placeholder="T√¨m ki·∫øm meme...">
                <button id="clear-search" style="display: none;">√ó</button>
            </div>
            <div class="auth-controls">
                <button id="login-btn" style="display: none;">ƒêƒÉng nh·∫≠p GitHub</button>
                <button id="upload-btn" style="display: none;">üì§ Upload Meme</button>
                <span id="user-info" style="display: none;"></span>
                <button id="logout-btn" style="display: none;">ƒêƒÉng xu·∫•t</button>
            </div>
            <button id="toggle-dark-mode">üåô</button>
            <button id="refresh-btn">üîÑ</button>
        </div>
    </header>
    
    <main>
        <div class="stats-bar">
            <span>T·ªïng s·ªë: <span id="total-count">0</span> meme</span>
            <span id="filter-stats" style="display: none;"></span>
        </div>
        
        <div class="categories">
            <div class="category" id="image-category">
                <h2 class="category-header" onclick="toggleCategory('image')">
                    <span class="category-title">·∫¢nh</span>
                    <span class="category-count">(<span id="image-count">0</span>)</span>
                    <span class="toggle-icon">‚ñº</span>
                </h2>
                <div class="category-content" id="image-content"></div>
            </div>
            
            <div class="category" id="video-category">
                <h2 class="category-header" onclick="toggleCategory('video')">
                    <span class="category-title">Video</span>
                    <span class="category-count">(<span id="video-count">0</span>)</span>
                    <span class="toggle-icon">‚ñº</span>
                </h2>
                <div class="category-content" id="video-content"></div>
            </div>
        </div>
        
        <div id="loading-overlay">
            <div class="spinner"></div>
            <div class="loading-status">
                <h3 id="loading-title">ƒêang kh·ªüi t·∫°o...</h3>
                <p id="loading-message">Chu·∫©n b·ªã t·∫£i d·ªØ li·ªáu...</p>
                <div class="loading-steps">
                    <div class="step" id="step-1">
                        <span class="step-icon">üìã</span>
                        <span class="step-text">Ki·ªÉm tra cache</span>
                        <span class="step-status">‚è≥</span>
                    </div>
                    <div class="step" id="step-2">
                        <span class="step-icon">üñºÔ∏è</span>
                        <span class="step-text">T·∫£i danh s√°ch ·∫£nh</span>
                        <span class="step-status">‚è≥</span>
                    </div>
                    <div class="step" id="step-3">
                        <span class="step-icon">üé•</span>
                        <span class="step-text">T·∫£i danh s√°ch video</span>
                        <span class="step-status">‚è≥</span>
                    </div>
                    <div class="step" id="step-4">
                        <span class="step-icon">üé®</span>
                        <span class="step-text">Hi·ªÉn th·ªã giao di·ªán</span>
                        <span class="step-status">‚è≥</span>
                    </div>
                </div>
                <div class="loading-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="status-progress"></div>
                    </div>
                    <p id="progress-percentage">0%</p>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Popup Preview -->
    <div id="preview-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="preview-header">
                <h3 id="preview-filename"></h3>
                <span class="file-type-badge" id="preview-filetype"></span>
            </div>
            <div id="preview-container"></div>
            <div class="action-buttons">
                <button id="download-btn" class="btn-primary">
                    <span class="btn-icon">üì•</span> T·∫£i xu·ªëng
                </button>
                <button id="copy-url-btn" class="btn-secondary">
                    <span class="btn-icon">üîó</span> Sao ch√©p URL
                </button>
                <button id="prev-btn" class="btn-nav">‚Üê</button>
                <button id="next-btn" class="btn-nav">‚Üí</button>
            </div>
        </div>
    </div>

    <!-- Upload Modal -->
    <div id="upload-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="upload-close">&times;</span>
            <h3>Upload Meme</h3>
            <form id="upload-form">
                <div class="form-group">
                    <label for="file-input">Ch·ªçn file:</label>
                    <input type="file" id="file-input" accept="image/*,video/*" required>
                    <small>Ch·ªâ ch·∫•p nh·∫≠n ·∫£nh (jpg, png, gif, webp) v√† video (mp4, webm, mov, avi, mkv, wmv, flv)</small>
                </div>
                <div class="form-group">
                    <label for="file-type">Lo·∫°i file:</label>
                    <select id="file-type" required>
                        <option value="">Ch·ªçn lo·∫°i</option>
                        <option value="image">·∫¢nh</option>
                        <option value="video">Video</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="custom-filename">T√™n file t√πy ch·ªânh (t√πy ch·ªçn):</label>
                    <input type="text" id="custom-filename" placeholder="ƒê·ªÉ tr·ªëng ƒë·ªÉ d√πng t√™n g·ªëc">
                    <small>Kh√¥ng c·∫ßn nh·∫≠p ƒëu√¥i file</small>
                </div>
                <div class="upload-progress" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <p id="progress-text">ƒêang t·∫£i l√™n...</p>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">üì§ Upload</button>
                    <button type="button" class="btn-secondary" id="cancel-upload">H·ªßy</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/js-base64@3.7.5/base64.min.js"></script>
</body>
</html>
